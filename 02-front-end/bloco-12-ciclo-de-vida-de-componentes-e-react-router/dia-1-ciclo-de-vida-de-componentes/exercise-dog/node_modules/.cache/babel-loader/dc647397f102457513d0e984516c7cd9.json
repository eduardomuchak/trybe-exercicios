{"ast":null,"code":"var _jsxFileName = \"/home/eduardo_muchak/Trybe/trybe-exercises/02-front-end/bloco-12-ciclo-de-vida-de-componentes-e-react-router/dia-1-ciclo-de-vida-de-componentes/exercise-dog-image/src/App.js\";\nimport React, { Component } from 'react';\n/* import DogPic from './DogPic';\nimport Loading from './Loading'; */\n\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.fetchDogImage = this.fetchDogImage.bind(this);\n    this.state = {\n      loading: true,\n      dogImage: ''\n    };\n  }\n\n  componentDidMount() {\n    this.fetchDogImage();\n  }\n\n  shouldComponentUpdate() {\n    const {\n      dogImage\n    } = this.state;\n    return !dogImage.includes('terrier');\n  }\n\n  componentDidUpdate() {\n    const {\n      dogImage\n    } = this.state;\n    const regExp = /breeds\\/.*\\//g;\n    const breed = dogImage.match(regExp)[0].split('/')[1].replace('-', ' ');\n    alert(breed);\n  }\n\n  async fetchDogImage() {\n    const randomImage = await fetch('https://dog.ceo/api/breeds/image/random');\n    const response = await randomImage.json();\n    const {\n      dogImage\n    } = this.state;\n    localStorage.setItem('prevDogImage', dogImage);\n    this.setState({\n      loading: false,\n      dogImage: response.message\n    });\n  }\n\n  render() {\n    const {\n      loading,\n      dogImage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, loading && /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 22\n      }\n    }), !loading && /*#__PURE__*/React.createElement(DogPic, {\n      pic: dogImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 23\n      }\n    }), !loading && /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.fetchDogImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 23\n      }\n    }, \"Mais\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/eduardo_muchak/Trybe/trybe-exercises/02-front-end/bloco-12-ciclo-de-vida-de-componentes-e-react-router/dia-1-ciclo-de-vida-de-componentes/exercise-dog-image/src/App.js"],"names":["React","Component","App","constructor","fetchDogImage","bind","state","loading","dogImage","componentDidMount","shouldComponentUpdate","includes","componentDidUpdate","regExp","breed","match","split","replace","alert","randomImage","fetch","response","json","localStorage","setItem","setState","message","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA;AACA;;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBD,SAAlB,CAA4B;AAC1BE,EAAAA,WAAW,GAAG;AACZ;AAEA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKL,aAAL;AACD;;AAEDM,EAAAA,qBAAqB,GAAG;AACtB,UAAM;AAAEF,MAAAA;AAAF,QAAe,KAAKF,KAA1B;AACA,WAAO,CAACE,QAAQ,CAACG,QAAT,CAAkB,SAAlB,CAAR;AACD;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,UAAM;AAAEJ,MAAAA;AAAF,QAAe,KAAKF,KAA1B;AACA,UAAMO,MAAM,GAAG,eAAf;AACA,UAAMC,KAAK,GAAGN,QAAQ,CACnBO,KADW,CACLF,MADK,EACG,CADH,EAEXG,KAFW,CAEL,GAFK,EAEA,CAFA,EAGXC,OAHW,CAGH,GAHG,EAGE,GAHF,CAAd;AAIAC,IAAAA,KAAK,CAACJ,KAAD,CAAL;AACD;;AAEkB,QAAbV,aAAa,GAAG;AACpB,UAAMe,WAAW,GAAG,MAAMC,KAAK,CAAC,yCAAD,CAA/B;AACA,UAAMC,QAAQ,GAAG,MAAMF,WAAW,CAACG,IAAZ,EAAvB;AAEA,UAAM;AAAEd,MAAAA;AAAF,QAAe,KAAKF,KAA1B;AACAiB,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqChB,QAArC;AAEA,SAAKiB,QAAL,CAAc;AAAElB,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,QAAQ,EAAEa,QAAQ,CAACK;AAArC,KAAd;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEpB,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAwB,KAAKF,KAAnC;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIC,OAAO,iBAAI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADf,EAEI,CAACA,OAAD,iBAAY,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAGC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFhB,EAGI,CAACD,OAAD,iBAAY;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAG,KAAKH,aAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHhB,CADF;AAOD;;AAnDyB;;AAsD5B,eAAeF,GAAf","sourcesContent":["import React, { Component } from 'react';\n/* import DogPic from './DogPic';\nimport Loading from './Loading'; */\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.fetchDogImage = this.fetchDogImage.bind(this);\n\n    this.state = {\n      loading: true,\n      dogImage: '',\n    };\n  }\n\n  componentDidMount() {\n    this.fetchDogImage();\n  }\n\n  shouldComponentUpdate() {\n    const { dogImage } = this.state;\n    return !dogImage.includes('terrier');\n  }\n\n  componentDidUpdate() {\n    const { dogImage } = this.state;\n    const regExp = /breeds\\/.*\\//g;\n    const breed = dogImage\n      .match(regExp)[0]\n      .split('/')[1]\n      .replace('-', ' ');\n    alert(breed);\n  }\n\n  async fetchDogImage() {\n    const randomImage = await fetch('https://dog.ceo/api/breeds/image/random');\n    const response = await randomImage.json();\n\n    const { dogImage } = this.state;\n    localStorage.setItem('prevDogImage', dogImage);\n\n    this.setState({ loading: false, dogImage: response.message });\n  }\n\n  render() {\n    const { loading, dogImage } = this.state;\n\n    return (\n      <div className=\"App\">\n        { loading && <Loading /> }\n        { !loading && <DogPic pic={ dogImage } /> }\n        { !loading && <button type=\"button\" onClick={ this.fetchDogImage }>Mais</button> }\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}